#!/bin/bash

usage() {
  cat << HELP
Usage: tw-follow <screen_name>
Usage: tw-follow https://twitter.com/<screen_name>
  follow the account

Usage: tw-follow rm <screen_name>
Usage: tw-follow rm https://twitter.com/<screen_name>
  unfollow the account
HELP
  exit 0
}

if [ $# -eq 0 -o "$1" == "-h" -o "$1" == "--help" -o "$1" == "-?" ]; then
  usage
fi

if [ $# -eq 1 ]; then
  twurl -X POST /1.1/friendships/create.json -d "screen_name=${1##*/}"
elif [ $# -eq 2 -a "$1" == "rm" ]; then
  twurl -X POST /1.1/friendships/destroy.json -d "screen_name=${2##*/}"
else
  usage
fi
